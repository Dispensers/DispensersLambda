<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lambda</title>
  <style>
body {
	font-family: Montserrat, Arial, 'sans-serif';
	font-size: min(calc(90vw / 59), calc(90vh / 120));
	margin: 0;
	overflow: hidden;
	background-color: black;
}

#information {
	display:none;
	z-index:1;
	position:absolute;
	height:200em;
	width:59em;
	/* background-color:#9E9E9E; */
	
	grid-template-rows:
		[rInformation-s]
		3fr
		[rIHeader-s rIBack-s]
		6fr
		[rIHeader-e rIBack-e]
		3fr
		[rIInstructions-s]
		20fr
		[rIInstructions-e]
		168fr
		[rInformation-e]
		;
		
 	grid-template-columns:
		[cInformation-s]
		3fr
		[cIBack-s cIInstructions-s]
		7fr
		[cIBack-e]
		5fr 
		[cIHeader-s]
		29fr
		[cIHeader-e]
		12fr
		[cIInstructions-e]
		3fr
		[cInformation-e]
		;
	
}

#iBack {grid-row:rIBack-s/rIBack-e; grid-column:cIBack-s/cIBack-e;}
#iHeader {grid-row:rIHeader-s/rIHeader-e; grid-column:cIHeader-s/cIHeader-e;}
#iInstructions {grid-row:rIInstructions-s/rIInstructions-e; grid-column:cIInstructions-s/cIInstructions-e; font-size:3em; background-color:white;}


#door-3 {display:none; z-index:2; width:59em; background-color:gray; position:absolute;
	grid-template-columns:
		[cDoor-3-s]
		3fr
		[cPanel-3-s cCInformation-3-s cCReset-3-s]
		11fr
		[cCReset-3-e]
		3fr
		[cPHeader-3-s]
		2fr
		[cCInformation-3-e]
		5fr
		[cCHint-3-s]
		11fr
		[cCHint-3-e cCBack-3-s]
		5fr
		[cCSolution-3-s]
		2fr
		[cPHeader-3-e]
		14fr
		[cPanel-3-3-e cCSolution-3-e cCBack-3-e]
		3fr
		[cDoor-3-e]
		;
}

#pHeader-3 {grid-row:rPHeader-3-s/rPHeader-3-e; grid-column:cPHeader-3-s/cPHeader-3-e;}

#cInformation-3 {grid-row:rCTop-3-s/rCTop-3-e; grid-column:cCInformation-3-s/cCInformation-3-e;}
#cHint-3 {grid-row:rCTop-3-s/rCTop-3-e; grid-column:cCHint-3-s/cCHint-3-e;}
#cSolution-3 {grid-row:rCTop-3-s/rCTop-3-e; grid-column:cCSolution-3-s/cCSolution-3-e;}
#cReset-3 {grid-row:rCBottom-3-s/rCBottom-3-e; grid-column:cCReset-3-s/cCReset-3-e;}
#cBack-3 {grid-row:rCBottom-3-s/rCBottom-3-e; grid-column:cCBack-3-s/cCBack-3-e;}

#panel-33 {display:none; z-index:3; grid-row:rPanel-3-s/rPanel-3-e; grid-column:cPanel-3-s/cPanel-3-e; height:80em; width:53em; background-color:white; position:absolute;
	grid-template-rows:
		[rPanel-33-s]
		3fr
		[rDTile-33-4-e]
		1fr
		[rDTile-33-3-s]
		7fr
		[rDTile-33-3-e]
		1fr
		[rDTile-33-2-s]
		7fr
		[rDTile-33-2-e]
		1fr
		[rDTile-33-1-s]
		7fr
		[rDTile-33-1-e rDContainer-33-b]
		7fr
		[rMRow-3-1]
		7fr
		[rMRow-3-2]
		7fr
		[rMRow-3-3]
		7fr
		[rMRow-3-e]
		3fr
		[rCBackground-3-s]
		3fr
		[rCDispense-3-s]
		6fr
		[rPanel-33-e rCBackground-3-e rCDispense-3-e]
		;
	grid-template-columns:
		[cPanel-33-s]
		9fr
		[cDContainer-33-1-s]
		1fr
		[cDTile-33-1-s]
		6fr
		[cMColumn-3-1]
		1fr
		[cDTile-33-1-e]
		1fr
		[cDContainer-33-1-e]
		4fr
		[cDContainer-33-2-s]
		1fr
		[cDTile-33-2-s cMColumn-3-2]
		7fr
		[cDTile-33-2-e cMColumn-3-3]
		1fr
		[cDContainer-33-2-e]
		4fr
		[cDContainer-33-3-s]
		1fr
		[cDTile-33-3-s]
		1fr
		[cMColumn-3-e]
		6fr
		[cDTile-33-3-e]
		1fr
		[cDContainer-33-3-e]
		9fr
		[cPanel-33-e]
		;
}

#dTile-33-11 {grid-row:rDTile-33-1-s/rDTile-33-1-e; grid-column:cDTile-33-1-s/cDTile-33-1-e;}
#dTile-33-12 {grid-row:rDTile-33-2-s/rDTile-33-2-e; grid-column:cDTile-33-1-s/cDTile-33-1-e;}
#dTile-33-13 {grid-row:rDTile-33-3-s/rDTile-33-3-e; grid-column:cDTile-33-1-s/cDTile-33-1-e;}
#dTile-33-21 {grid-row:rDTile-33-1-s/rDTile-33-1-e; grid-column:cDTile-33-2-s/cDTile-33-2-e;}
#dTile-33-22 {grid-row:rDTile-33-2-s/rDTile-33-2-e; grid-column:cDTile-33-2-s/cDTile-33-2-e;}
#dTile-33-23 {grid-row:rDTile-33-3-s/rDTile-33-3-e; grid-column:cDTile-33-2-s/cDTile-33-2-e;}
#dTile-33-31 {grid-row:rDTile-33-1-s/rDTile-33-1-e; grid-column:cDTile-33-3-s/cDTile-33-3-e;}
#dTile-33-32 {grid-row:rDTile-33-2-s/rDTile-33-2-e; grid-column:cDTile-33-3-s/cDTile-33-3-e;}
#dTile-33-33 {grid-row:rDTile-33-3-s/rDTile-33-3-e; grid-column:cDTile-33-3-s/cDTile-33-3-e;}

#dContainer-33-11 {grid-row:rDTile-33-2-e/rDContainer-33-b; grid-column:cDContainer-33-1-s/cDContainer-33-1-e;}
#dContainer-33-12 {grid-row:rDTile-33-3-e/rDContainer-33-b; grid-column:cDContainer-33-1-s/cDContainer-33-1-e;}
#dContainer-33-13 {grid-row:rDTile-33-4-e/rDContainer-33-b; grid-column:cDContainer-33-1-s/cDContainer-33-1-e;}
#dContainer-33-21 {grid-row:rDTile-33-2-e/rDContainer-33-b; grid-column:cDContainer-33-2-s/cDContainer-33-2-e;}
#dContainer-33-22 {grid-row:rDTile-33-3-e/rDContainer-33-b; grid-column:cDContainer-33-2-s/cDContainer-33-2-e;}
#dContainer-33-23 {grid-row:rDTile-33-4-e/rDContainer-33-b; grid-column:cDContainer-33-2-s/cDContainer-33-2-e;}
#dContainer-33-31 {grid-row:rDTile-33-2-e/rDContainer-33-b; grid-column:cDContainer-33-3-s/cDContainer-33-3-e;}
#dContainer-33-32 {grid-row:rDTile-33-3-e/rDContainer-33-b; grid-column:cDContainer-33-3-s/cDContainer-33-3-e;}
#dContainer-33-33 {grid-row:rDTile-33-4-e/rDContainer-33-b; grid-column:cDContainer-33-3-s/cDContainer-33-3-e;}

#mSquare-33-1 {grid-row:rMRow-3-1/rMRow-3-2; grid-column:cMColumn-3-1/cMColumn-3-2;}
#mSquare-33-2 {grid-row:rMRow-3-1/rMRow-3-2; grid-column:cMColumn-3-2/cMColumn-3-3;}
#mSquare-33-3 {grid-row:rMRow-3-1/rMRow-3-2; grid-column:cMColumn-3-3/cMColumn-3-e;}
#mSquare-33-4 {grid-row:rMRow-3-2/rMRow-3-3; grid-column:cMColumn-3-1/cMColumn-3-2;}
#mSquare-33-5 {grid-row:rMRow-3-2/rMRow-3-3; grid-column:cMColumn-3-2/cMColumn-3-3;}
#mSquare-33-6 {grid-row:rMRow-3-2/rMRow-3-3; grid-column:cMColumn-3-3/cMColumn-3-e;}
#mSquare-33-7 {grid-row:rMRow-3-3/rMRow-3-e; grid-column:cMColumn-3-1/cMColumn-3-2;}
#mSquare-33-8 {grid-row:rMRow-3-3/rMRow-3-e; grid-column:cMColumn-3-2/cMColumn-3-3;}
#mSquare-33-9 {grid-row:rMRow-3-3/rMRow-3-e; grid-column:cMColumn-3-3/cMColumn-3-e;}

#cBackground-33 {grid-row:rCBackground-3-s/rCBackground-3-e; grid-column:cPanel-33-s/cPanel-33-e;}
#cDispense-33-1 {grid-row:rCDispense-3-s/rCDispense-3-e; grid-column:cDTile-33-1-s/cDTile-33-1-e;}
#cDispense-33-2 {grid-row:rCDispense-3-s/rCDispense-3-e; grid-column:cDTile-33-2-s/cDTile-33-2-e;}
#cDispense-33-3 {grid-row:rCDispense-3-s/rCDispense-3-e; grid-column:cDTile-33-3-s/cDTile-33-3-e;}


#panel-34 {display:none; z-index:3; grid-row:rPanel-3-s/rPanel-3-e; grid-column:cPanel-3-s/cPanel-3-e; height:80em; width:53em; background-color:white; position:absolute;
	grid-template-rows:
		[rPanel-34-s]
		3fr
		[rDTile-34-4-e]
		1fr
		[rDTile-34-3-s]
		7fr
		[rDTile-34-3-e]
		1fr
		[rDTile-34-2-s]
		7fr
		[rDTile-34-2-e]
		1fr
		[rDTile-34-1-s]
		7fr
		[rDTile-34-1-e rDContainer-34-b]
		7fr
		[rMRow-3-1]
		7fr
		[rMRow-3-2]
		7fr
		[rMRow-3-3]
		7fr
		[rMRow-3-e]
		3fr
		[rCBackground-3-s]
		3fr
		[rCDispense-3-s]
		6fr
		[rPanel-34-e rCBackground-3-e rCDispense-3-e]
		;
	grid-template-columns:
		[cPanel-34-s]
		4fr
		[cDContainer-34-1-s]
		1fr
		[cDTile-34-1-s]
		7fr
		[cDTile-34-1-e]
		1fr
		[cDContainer-34-1-e]
		3fr
		[cDContainer-34-2-s cMColumn-3-1]
		1fr
		[cDTile-34-2-s]
		6fr
		[cMColumn-3-2]
		1fr
		[cDTile-34-2-e]
		1fr
		[cDContainer-34-2-e]
		3fr
		[cDContainer-34-3-s]
		1fr
		[cDTile-34-3-s]
		1fr
		[cMColumn-3-3]
		6fr
		[cDTile-34-3-e]
		1fr
		[cDContainer-34-3-e cMColumn-3-e]
		3fr
		[cDContainer-34-4-s]
		1fr
		[cDTile-34-4-s]
		7fr
		[cDTile-34-4-e]
		1fr
		[cDContainer-34-4-e]
		4fr
		[cPanel-34-e]
		;
}

#dTile-34-11 {grid-row:rDTile-34-1-s/rDTile-34-1-e; grid-column:cDTile-34-1-s/cDTile-34-1-e;}
#dTile-34-12 {grid-row:rDTile-34-2-s/rDTile-34-2-e; grid-column:cDTile-34-1-s/cDTile-34-1-e;}
#dTile-34-13 {grid-row:rDTile-34-3-s/rDTile-34-3-e; grid-column:cDTile-34-1-s/cDTile-34-1-e;}
#dTile-34-21 {grid-row:rDTile-34-1-s/rDTile-34-1-e; grid-column:cDTile-34-2-s/cDTile-34-2-e;}
#dTile-34-22 {grid-row:rDTile-34-2-s/rDTile-34-2-e; grid-column:cDTile-34-2-s/cDTile-34-2-e;}
#dTile-34-23 {grid-row:rDTile-34-3-s/rDTile-34-3-e; grid-column:cDTile-34-2-s/cDTile-34-2-e;}
#dTile-34-31 {grid-row:rDTile-34-1-s/rDTile-34-1-e; grid-column:cDTile-34-3-s/cDTile-34-3-e;}
#dTile-34-32 {grid-row:rDTile-34-2-s/rDTile-34-2-e; grid-column:cDTile-34-3-s/cDTile-34-3-e;}
#dTile-34-33 {grid-row:rDTile-34-3-s/rDTile-34-3-e; grid-column:cDTile-34-3-s/cDTile-34-3-e;}
#dTile-34-41 {grid-row:rDTile-34-1-s/rDTile-34-1-e; grid-column:cDTile-34-4-s/cDTile-34-4-e;}
#dTile-34-42 {grid-row:rDTile-34-2-s/rDTile-34-2-e; grid-column:cDTile-34-4-s/cDTile-34-4-e;}
#dTile-34-43 {grid-row:rDTile-34-3-s/rDTile-34-3-e; grid-column:cDTile-34-4-s/cDTile-34-4-e;}

#dContainer-34-11 {grid-row:rDTile-34-2-e/rDContainer-34-b; grid-column:cDContainer-34-1-s/cDContainer-34-1-e;}
#dContainer-34-12 {grid-row:rDTile-34-3-e/rDContainer-34-b; grid-column:cDContainer-34-1-s/cDContainer-34-1-e;}
#dContainer-34-13 {grid-row:rDTile-34-4-e/rDContainer-34-b; grid-column:cDContainer-34-1-s/cDContainer-34-1-e;}
#dContainer-34-21 {grid-row:rDTile-34-2-e/rDContainer-34-b; grid-column:cDContainer-34-2-s/cDContainer-34-2-e;}
#dContainer-34-22 {grid-row:rDTile-34-3-e/rDContainer-34-b; grid-column:cDContainer-34-2-s/cDContainer-34-2-e;}
#dContainer-34-23 {grid-row:rDTile-34-4-e/rDContainer-34-b; grid-column:cDContainer-34-2-s/cDContainer-34-2-e;}
#dContainer-34-31 {grid-row:rDTile-34-2-e/rDContainer-34-b; grid-column:cDContainer-34-3-s/cDContainer-34-3-e;}
#dContainer-34-32 {grid-row:rDTile-34-3-e/rDContainer-34-b; grid-column:cDContainer-34-3-s/cDContainer-34-3-e;}
#dContainer-34-33 {grid-row:rDTile-34-4-e/rDContainer-34-b; grid-column:cDContainer-34-3-s/cDContainer-34-3-e;}
#dContainer-34-41 {grid-row:rDTile-34-2-e/rDContainer-34-b; grid-column:cDContainer-34-4-s/cDContainer-34-4-e;}
#dContainer-34-42 {grid-row:rDTile-34-3-e/rDContainer-34-b; grid-column:cDContainer-34-4-s/cDContainer-34-4-e;}
#dContainer-34-43 {grid-row:rDTile-34-4-e/rDContainer-34-b; grid-column:cDContainer-34-4-s/cDContainer-34-4-e;}

#mSquare-34-1 {grid-row:rMRow-3-1/rMRow-3-2; grid-column:cMColumn-3-1/cMColumn-3-2;}
#mSquare-34-2 {grid-row:rMRow-3-1/rMRow-3-2; grid-column:cMColumn-3-2/cMColumn-3-3;}
#mSquare-34-3 {grid-row:rMRow-3-1/rMRow-3-2; grid-column:cMColumn-3-3/cMColumn-3-e;}
#mSquare-34-4 {grid-row:rMRow-3-2/rMRow-3-3; grid-column:cMColumn-3-1/cMColumn-3-2;}
#mSquare-34-5 {grid-row:rMRow-3-2/rMRow-3-3; grid-column:cMColumn-3-2/cMColumn-3-3;}
#mSquare-34-6 {grid-row:rMRow-3-2/rMRow-3-3; grid-column:cMColumn-3-3/cMColumn-3-e;}
#mSquare-34-7 {grid-row:rMRow-3-3/rMRow-3-e; grid-column:cMColumn-3-1/cMColumn-3-2;}
#mSquare-34-8 {grid-row:rMRow-3-3/rMRow-3-e; grid-column:cMColumn-3-2/cMColumn-3-3;}
#mSquare-34-9 {grid-row:rMRow-3-3/rMRow-3-e; grid-column:cMColumn-3-3/cMColumn-3-e;}

#cBackground-34 {grid-row:rCBackground-3-s/rCBackground-3-e; grid-column:cPanel-34-s/cPanel-34-e;}
#cDispense-34-1 {grid-row:rCDispense-3-s/rCDispense-3-e; grid-column:cDTile-34-1-s/cDTile-34-1-e;}
#cDispense-34-2 {grid-row:rCDispense-3-s/rCDispense-3-e; grid-column:cDTile-34-2-s/cDTile-34-2-e;}
#cDispense-34-3 {grid-row:rCDispense-3-s/rCDispense-3-e; grid-column:cDTile-34-3-s/cDTile-34-3-e;}
#cDispense-34-4 {grid-row:rCDispense-3-s/rCDispense-3-e; grid-column:cDTile-34-4-s/cDTile-34-4-e;}


#door-4 {display:none; z-index:2; width:59em; position:absolute;
	grid-template-columns:
		[cDoor-4-s]
		3fr
		[cPanel-4-s cCInformation-4-s cCReset-4-s]
		11fr
		[cCReset-4-e]
		2fr
		[cPHeader-4-s]
		3fr
		[cCInformation-4-e]
		5fr
		[cCHint-4-s]
		11fr
		[cCHint-4-e cCBack-4-s]
		5fr
		[cCSolution-4-s]
		3fr
		[cPHeader-4-e]
		13fr
		[cPanel-4-e cCSolution-4-e cCBack-4-e]
		3fr
		[cDoor-4-e]
		;
}

#pHeader-4 {grid-row:rPHeader-4-s/rPHeader-4-e; grid-column:cPHeader-4-s/cPHeader-4-e;}

#cInformation-4 {grid-row:rCTop-4-s/rCTop-4-e; grid-column:cCInformation-4-s/cCInformation-4-e;}
#cHint-4 {grid-row:rCTop-4-s/rCTop-4-e; grid-column:cCHint-4-s/cCHint-4-e;}
#cSolution-4 {grid-row:rCTop-4-s/rCTop-4-e; grid-column:cCSolution-4-s/cCSolution-4-e;}
#cReset-4 {grid-row:rCBottom-4-s/rCBottom-4-e; grid-column:cCReset-4-s/cCReset-4-e;}
#cBack-4 {grid-row:rCBottom-4-s/rCBottom-4-e; grid-column:cCBack-4-s/cCBack-4-e;}

#panel-43 {display:none; z-index:3; grid-row:rPanel-4-s/rPanel-4-e; grid-column:cPanel-4-s/cPanel-4-e; height:80em; width:53em; background-color:white; position:absolute;
	grid-template-rows:
		[rPanel-43-s]
		3fr
		[rDTile-43-5-e]
		1fr
		[rDTile-43-4-s]
		7fr
		[rDTile-43-4-e]
		1fr
		[rDTile-43-3-s]
		7fr
		[rDTile-43-3-e]
		1fr
		[rDTile-43-2-s]
		7fr
		[rDTile-43-2-e]
		1fr
		[rDTile-43-1-s]
		7fr
		[rDTile-43-1-e rDContainer-43-b]
		7fr
		[rMRow-4-1]
		6fr
		[rTickCross-4-s]
		1fr
		[rMRow-4-2]
		7fr
		[rMRow-4-3]
		1fr
		[rTickCross-4-e]
		6fr
		[rMRow-4-e]
		3fr
		[rCBackground-4-s]
		3fr
		[rCDispense-4-s]
		6fr
		[rPanel-43-e rCBackground-4-e rCDispense-4-e]
		;
	grid-template-columns:
		[cPanel-43-s]
		9fr
		[cDContainer-43-1-s]
		1fr
		[cDTile-43-1-s]
		6fr
		[cMColumn-4-1]
		1fr
		[cDTile-43-1-e]
		1fr
		[cDContainer-43-1-e]
		4fr
		[cDContainer-43-2-s]
		1fr
		[cDTile-43-2-s cMColumn-4-2]
		7fr
		[cDTile-43-2-e cMColumn-4-3]
		1fr
		[cDContainer-43-2-e]
		4fr
		[cDContainer-43-3-s]
		1fr
		[cDTile-43-3-s]
		1fr
		[cMColumn-4-e]
		2fr
		[cTickCross-4-s]
		4fr
		[cDTile-43-3-e]
		1fr
		[cDContainer-43-3-e]
		4fr
		[cTickCross-4-e]
		5fr
		[cPanel-43-e]
		;
}

#dTile-43-11 {grid-row:rDTile-43-1-s/rDTile-43-1-e; grid-column:cDTile-43-1-s/cDTile-43-1-e;}
#dTile-43-12 {grid-row:rDTile-43-2-s/rDTile-43-2-e; grid-column:cDTile-43-1-s/cDTile-43-1-e;}
#dTile-43-13 {grid-row:rDTile-43-3-s/rDTile-43-3-e; grid-column:cDTile-43-1-s/cDTile-43-1-e;}
#dTile-43-14 {grid-row:rDTile-43-4-s/rDTile-43-4-e; grid-column:cDTile-43-1-s/cDTile-43-1-e;}
#dTile-43-21 {grid-row:rDTile-43-1-s/rDTile-43-1-e; grid-column:cDTile-43-2-s/cDTile-43-2-e;}
#dTile-43-22 {grid-row:rDTile-43-2-s/rDTile-43-2-e; grid-column:cDTile-43-2-s/cDTile-43-2-e;}
#dTile-43-23 {grid-row:rDTile-43-3-s/rDTile-43-3-e; grid-column:cDTile-43-2-s/cDTile-43-2-e;}
#dTile-43-24 {grid-row:rDTile-43-4-s/rDTile-43-4-e; grid-column:cDTile-43-2-s/cDTile-43-2-e;}
#dTile-43-31 {grid-row:rDTile-43-1-s/rDTile-43-1-e; grid-column:cDTile-43-3-s/cDTile-43-3-e;}
#dTile-43-32 {grid-row:rDTile-43-2-s/rDTile-43-2-e; grid-column:cDTile-43-3-s/cDTile-43-3-e;}
#dTile-43-33 {grid-row:rDTile-43-3-s/rDTile-43-3-e; grid-column:cDTile-43-3-s/cDTile-43-3-e;}
#dTile-43-34 {grid-row:rDTile-43-4-s/rDTile-43-4-e; grid-column:cDTile-43-3-s/cDTile-43-3-e;}

#dContainer-43-11 {grid-row:rDTile-43-2-e/rDContainer-43-b; grid-column:cDContainer-43-1-s/cDContainer-43-1-e;}
#dContainer-43-12 {grid-row:rDTile-43-3-e/rDContainer-43-b; grid-column:cDContainer-43-1-s/cDContainer-43-1-e;}
#dContainer-43-13 {grid-row:rDTile-43-4-e/rDContainer-43-b; grid-column:cDContainer-43-1-s/cDContainer-43-1-e;}
#dContainer-43-14 {grid-row:rDTile-43-5-e/rDContainer-43-b; grid-column:cDContainer-43-1-s/cDContainer-43-1-e;}
#dContainer-43-21 {grid-row:rDTile-43-2-e/rDContainer-43-b; grid-column:cDContainer-43-2-s/cDContainer-43-2-e;}
#dContainer-43-22 {grid-row:rDTile-43-3-e/rDContainer-43-b; grid-column:cDContainer-43-2-s/cDContainer-43-2-e;}
#dContainer-43-23 {grid-row:rDTile-43-4-e/rDContainer-43-b; grid-column:cDContainer-43-2-s/cDContainer-43-2-e;}
#dContainer-43-24 {grid-row:rDTile-43-5-e/rDContainer-43-b; grid-column:cDContainer-43-2-s/cDContainer-43-2-e;}
#dContainer-43-31 {grid-row:rDTile-43-2-e/rDContainer-43-b; grid-column:cDContainer-43-3-s/cDContainer-43-3-e;}
#dContainer-43-32 {grid-row:rDTile-43-3-e/rDContainer-43-b; grid-column:cDContainer-43-3-s/cDContainer-43-3-e;}
#dContainer-43-33 {grid-row:rDTile-43-4-e/rDContainer-43-b; grid-column:cDContainer-43-3-s/cDContainer-43-3-e;}
#dContainer-43-34 {grid-row:rDTile-43-5-e/rDContainer-43-b; grid-column:cDContainer-43-3-s/cDContainer-43-3-e;}

#mSquare-43-1 {grid-row:rMRow-4-1/rMRow-4-2; grid-column:cMColumn-4-1/cMColumn-4-2;}
#mSquare-43-2 {grid-row:rMRow-4-1/rMRow-4-2; grid-column:cMColumn-4-2/cMColumn-4-3;}
#mSquare-43-3 {grid-row:rMRow-4-1/rMRow-4-2; grid-column:cMColumn-4-3/cMColumn-4-e;}
#mSquare-43-4 {grid-row:rMRow-4-2/rMRow-4-3; grid-column:cMColumn-4-1/cMColumn-4-2;}
#mSquare-43-5 {grid-row:rMRow-4-2/rMRow-4-3; grid-column:cMColumn-4-2/cMColumn-4-3;}
#mSquare-43-6 {grid-row:rMRow-4-2/rMRow-4-3; grid-column:cMColumn-4-3/cMColumn-4-e;}
#mSquare-43-7 {grid-row:rMRow-4-3/rMRow-4-e; grid-column:cMColumn-4-1/cMColumn-4-2;}
#mSquare-43-8 {grid-row:rMRow-4-3/rMRow-4-e; grid-column:cMColumn-4-2/cMColumn-4-3;}
#mSquare-43-9 {grid-row:rMRow-4-3/rMRow-4-e; grid-column:cMColumn-4-3/cMColumn-4-e;}

#TickCross-43 {grid-row:rTickCross-4-s/rTickCross-4-e; grid-column:cTickCross-4-s/cTickCross-4-e;}

#cBackground-43 {grid-row:rCBackground-4-s/rCBackground-4-e; grid-column:cPanel-43-s/cPanel-43-e;}
#cDispense-43-1 {grid-row:rCDispense-4-s/rCDispense-4-e; grid-column:cDTile-43-1-s/cDTile-43-1-e;}
#cDispense-43-2 {grid-row:rCDispense-4-s/rCDispense-4-e; grid-column:cDTile-43-2-s/cDTile-43-2-e;}
#cDispense-43-3 {grid-row:rCDispense-4-s/rCDispense-4-e; grid-column:cDTile-43-3-s/cDTile-43-3-e;}


#door-7 {display:none; z-index:2; width:59em; position:absolute;
	grid-template-columns:
		[cDoor-7-s]
		3fr
		[cPanel-7-s cCInformation-7-s cCReset-7-s]
		11fr
		[cCReset-7-e]
		2fr
		[cPHeader-7-s]
		3fr
		[cCInformation-7-e]
		5fr
		[cCHint-7-s]
		11fr
		[cCHint-7-e cCBack-7-s]
		5fr
		[cCSolution-7-s]
		3fr
		[cPHeader-7-e]
		13fr
		[cPanel-7-e cCSolution-7-e cCBack-7-e]
		3fr
		[cDoor-7-e]
		;
}

#pHeader-7 {grid-row:rPHeader-7-s/rPHeader-7-e; grid-column:cPHeader-7-s/cPHeader-7-e;}

#cInformation-7 {grid-row:rCTop-7-s/rCTop-7-e; grid-column:cCInformation-7-s/cCInformation-7-e;}
#cHint-7 {grid-row:rCTop-7-s/rCTop-7-e; grid-column:cCHint-7-s/cCHint-7-e;}
#cSolution-7 {grid-row:rCTop-7-s/rCTop-7-e; grid-column:cCSolution-7-s/cCSolution-7-e;}
#cReset-7 {grid-row:rCBottom-7-s/rCBottom-7-e; grid-column:cCReset-7-s/cCReset-7-e;}
#cBack-7 {grid-row:rCBottom-7-s/rCBottom-7-e; grid-column:cCBack-7-s/cCBack-7-e;}

#panel-72 {display:none; z-index:3; grid-row:rPanel-7-s/rPanel-7-e; grid-column:cPanel-7-s/cPanel-7-e; height:80em; width:53em; background-color:white; position:absolute;
	grid-template-rows:
		[rPanel-72-s]
		3fr
		[rDTile-72-8-e]
		1fr
		[rDTile-72-7-s]
		7fr
		[rDTile-72-7-e]
		1fr
		[rDTile-72-6-s]
		7fr
		[rDTile-72-6-e]
		1fr
		[rDTile-72-5-s]
		7fr
		[rDTile-72-5-e]
		1fr
		[rDTile-72-4-s]
		7fr
		[rDTile-72-4-e]
		1fr
		[rDTile-72-3-s]
		7fr
		[rDTile-72-3-e]
		1fr
		[rDTile-72-2-s]
		7fr
		[rDTile-72-2-e]
		1fr
		[rDTile-72-1-s]
		7fr
		[rDTile-72-1-e rDContainer-72-b]
		7fr
		[rMRow-7-1]
		6fr
		[rTickCross-7-s]
		1fr
		[rMRow-7-2]
		7fr
		[rMRow-7-3]
		1fr
		[rTickCross-7-e]
		6fr
		[rMRow-7-e]
		3fr
		[rCBackground-7-s]
		3fr
		[rCDispense-7-s]
		6fr
		[rPanel-72-e rCBackground-7-e rCDispense-7-e]
		;
	grid-template-columns:
		[cPanel-72-s]
		15fr
		[cDContainer-72-1-s]
		1fr
		[cDTile-72-1-s cMColumn-7-1]
		7fr
		[cDTile-72-1-e cMColumn-7-2]
		1fr
		[cDContainer-72-1-e]
		5fr
		[cDContainer-72-2-s]
		1fr
		[cDTile-72-2-s cMColumn-7-3]
		7fr
		[cDTile-72-2-e cMColumn-7-e]
		1fr
		[cDContainer-72-2-e]
		1fr
		[cTickCross-7-s]
		9fr
		[cTickCross-7-e]
		5fr
		[cPanel-72-e]
		;
}

#dTile-72-11 {grid-row:rDTile-72-1-s/rDTile-72-1-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#dTile-72-12 {grid-row:rDTile-72-2-s/rDTile-72-2-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#dTile-72-13 {grid-row:rDTile-72-3-s/rDTile-72-3-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#dTile-72-14 {grid-row:rDTile-72-4-s/rDTile-72-4-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#dTile-72-15 {grid-row:rDTile-72-5-s/rDTile-72-5-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#dTile-72-16 {grid-row:rDTile-72-6-s/rDTile-72-6-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#dTile-72-17 {grid-row:rDTile-72-7-s/rDTile-72-7-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#dTile-72-21 {grid-row:rDTile-72-1-s/rDTile-72-1-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}
#dTile-72-22 {grid-row:rDTile-72-2-s/rDTile-72-2-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}
#dTile-72-23 {grid-row:rDTile-72-3-s/rDTile-72-3-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}
#dTile-72-24 {grid-row:rDTile-72-4-s/rDTile-72-4-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}
#dTile-72-25 {grid-row:rDTile-72-5-s/rDTile-72-5-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}
#dTile-72-26 {grid-row:rDTile-72-6-s/rDTile-72-6-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}
#dTile-72-27 {grid-row:rDTile-72-7-s/rDTile-72-7-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}

#dContainer-72-11 {grid-row:rDTile-72-2-e/rDContainer-72-b; grid-column:cDContainer-72-1-s/cDContainer-72-1-e;}
#dContainer-72-12 {grid-row:rDTile-72-3-e/rDContainer-72-b; grid-column:cDContainer-72-1-s/cDContainer-72-1-e;}
#dContainer-72-13 {grid-row:rDTile-72-4-e/rDContainer-72-b; grid-column:cDContainer-72-1-s/cDContainer-72-1-e;}
#dContainer-72-14 {grid-row:rDTile-72-5-e/rDContainer-72-b; grid-column:cDContainer-72-1-s/cDContainer-72-1-e;}
#dContainer-72-15 {grid-row:rDTile-72-6-e/rDContainer-72-b; grid-column:cDContainer-72-1-s/cDContainer-72-1-e;}
#dContainer-72-16 {grid-row:rDTile-72-7-e/rDContainer-72-b; grid-column:cDContainer-72-1-s/cDContainer-72-1-e;}
#dContainer-72-17 {grid-row:rDTile-72-8-e/rDContainer-72-b; grid-column:cDContainer-72-1-s/cDContainer-72-1-e;}
#dContainer-72-21 {grid-row:rDTile-72-2-e/rDContainer-72-b; grid-column:cDContainer-72-2-s/cDContainer-72-2-e;}
#dContainer-72-22 {grid-row:rDTile-72-3-e/rDContainer-72-b; grid-column:cDContainer-72-2-s/cDContainer-72-2-e;}
#dContainer-72-23 {grid-row:rDTile-72-4-e/rDContainer-72-b; grid-column:cDContainer-72-2-s/cDContainer-72-2-e;}
#dContainer-72-24 {grid-row:rDTile-72-5-e/rDContainer-72-b; grid-column:cDContainer-72-2-s/cDContainer-72-2-e;}
#dContainer-72-25 {grid-row:rDTile-72-6-e/rDContainer-72-b; grid-column:cDContainer-72-2-s/cDContainer-72-2-e;}
#dContainer-72-26 {grid-row:rDTile-72-7-e/rDContainer-72-b; grid-column:cDContainer-72-2-s/cDContainer-72-2-e;}
#dContainer-72-27 {grid-row:rDTile-72-8-e/rDContainer-72-b; grid-column:cDContainer-72-2-s/cDContainer-72-2-e;}

#mSquare-72-1 {grid-row:rMRow-7-1/rMRow-7-2; grid-column:cMColumn-7-1/cMColumn-7-2;}
#mSquare-72-2 {grid-row:rMRow-7-1/rMRow-7-2; grid-column:cMColumn-7-2/cMColumn-7-3;}
#mSquare-72-3 {grid-row:rMRow-7-1/rMRow-7-2; grid-column:cMColumn-7-3/cMColumn-7-e;}
#mSquare-72-4 {grid-row:rMRow-7-2/rMRow-7-3; grid-column:cMColumn-7-1/cMColumn-7-2;}
#mSquare-72-5 {grid-row:rMRow-7-2/rMRow-7-3; grid-column:cMColumn-7-2/cMColumn-7-3;}
#mSquare-72-6 {grid-row:rMRow-7-2/rMRow-7-3; grid-column:cMColumn-7-3/cMColumn-7-e;}
#mSquare-72-7 {grid-row:rMRow-7-3/rMRow-7-e; grid-column:cMColumn-7-1/cMColumn-7-2;}
#mSquare-72-8 {grid-row:rMRow-7-3/rMRow-7-e; grid-column:cMColumn-7-2/cMColumn-7-3;}
#mSquare-72-9 {grid-row:rMRow-7-3/rMRow-7-e; grid-column:cMColumn-7-3/cMColumn-7-e;}

#TickCross-72 {grid-row:rTickCross-7-s/rTickCross-7-e; grid-column:cTickCross-7-s/cTickCross-7-e;}

#cBackground-72 {grid-row:rCBackground-7-s/rCBackground-7-e; grid-column:cPanel-72-s/cPanel-72-e;}
#cDispense-72-1 {grid-row:rCDispense-7-s/rCDispense-7-e; grid-column:cDTile-72-1-s/cDTile-72-1-e;}
#cDispense-72-2 {grid-row:rCDispense-7-s/rCDispense-7-e; grid-column:cDTile-72-2-s/cDTile-72-2-e;}


#panel-73 {display:none; z-index:3; grid-row:rPanel-7-s/rPanel-7-e; grid-column:cPanel-7-s/cPanel-7-e; height:80em; width:53em; background-color:white; position:absolute;
	grid-template-rows:
		[rPanel-73-s]
		3fr
		[rDTile-73-8-e]
		1fr
		[rDTile-73-7-s]
		7fr
		[rDTile-73-7-e]
		1fr
		[rDTile-73-6-s]
		7fr
		[rDTile-73-6-e]
		1fr
		[rDTile-73-5-s]
		7fr
		[rDTile-73-5-e]
		1fr
		[rDTile-73-4-s]
		7fr
		[rDTile-73-4-e]
		1fr
		[rDTile-73-3-s]
		7fr
		[rDTile-73-3-e]
		1fr
		[rDTile-73-2-s]
		7fr
		[rDTile-73-2-e]
		1fr
		[rDTile-73-1-s]
		7fr
		[rDTile-73-1-e rDContainer-73-b]
		7fr
		[rMRow-7-1]
		7fr
		[rMRow-7-2]
		7fr
		[rMRow-7-3]
		7fr
		[rMRow-7-e]
		3fr
		[rCBackground-7-s]
		3fr
		[rCDispense-7-s]
		6fr
		[rPanel-73-e rCBackground-7-e rCDispense-7-e]
		;
	grid-template-columns:
		[cPanel-73-s]
		9fr
		[cDContainer-73-1-s]
		1fr
		[cDTile-73-1-s]
		6fr
		[cMColumn-7-1]
		1fr
		[cDTile-73-1-e]
		1fr
		[cDContainer-73-1-e]
		4fr
		[cDContainer-73-2-s]
		1fr
		[cDTile-73-2-s cMColumn-7-2]
		7fr
		[cDTile-73-2-e cMColumn-7-3]
		1fr
		[cDContainer-73-2-e]
		4fr
		[cDContainer-73-3-s]
		1fr
		[cDTile-73-3-s]
		1fr
		[cMColumn-7-e]
		6fr
		[cDTile-73-3-e]
		1fr
		[cDContainer-73-3-e]
		9fr
		[cPanel-73-e]
		;
}

#dTile-73-11 {grid-row:rDTile-73-1-s/rDTile-73-1-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#dTile-73-12 {grid-row:rDTile-73-2-s/rDTile-73-2-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#dTile-73-13 {grid-row:rDTile-73-3-s/rDTile-73-3-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#dTile-73-14 {grid-row:rDTile-73-4-s/rDTile-73-4-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#dTile-73-15 {grid-row:rDTile-73-5-s/rDTile-73-5-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#dTile-73-16 {grid-row:rDTile-73-6-s/rDTile-73-6-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#dTile-73-17 {grid-row:rDTile-73-7-s/rDTile-73-7-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#dTile-73-21 {grid-row:rDTile-73-1-s/rDTile-73-1-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#dTile-73-22 {grid-row:rDTile-73-2-s/rDTile-73-2-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#dTile-73-23 {grid-row:rDTile-73-3-s/rDTile-73-3-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#dTile-73-24 {grid-row:rDTile-73-4-s/rDTile-73-4-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#dTile-73-25 {grid-row:rDTile-73-5-s/rDTile-73-5-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#dTile-73-26 {grid-row:rDTile-73-6-s/rDTile-73-6-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#dTile-73-27 {grid-row:rDTile-73-7-s/rDTile-73-7-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#dTile-73-31 {grid-row:rDTile-73-1-s/rDTile-73-1-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}
#dTile-73-32 {grid-row:rDTile-73-2-s/rDTile-73-2-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}
#dTile-73-33 {grid-row:rDTile-73-3-s/rDTile-73-3-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}
#dTile-73-34 {grid-row:rDTile-73-4-s/rDTile-73-4-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}
#dTile-73-35 {grid-row:rDTile-73-5-s/rDTile-73-5-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}
#dTile-73-36 {grid-row:rDTile-73-6-s/rDTile-73-6-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}
#dTile-73-37 {grid-row:rDTile-73-7-s/rDTile-73-7-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}

#dContainer-73-11 {grid-row:rDTile-73-2-e/rDContainer-73-b; grid-column:cDContainer-73-1-s/cDContainer-73-1-e;}
#dContainer-73-12 {grid-row:rDTile-73-3-e/rDContainer-73-b; grid-column:cDContainer-73-1-s/cDContainer-73-1-e;}
#dContainer-73-13 {grid-row:rDTile-73-4-e/rDContainer-73-b; grid-column:cDContainer-73-1-s/cDContainer-73-1-e;}
#dContainer-73-14 {grid-row:rDTile-73-5-e/rDContainer-73-b; grid-column:cDContainer-73-1-s/cDContainer-73-1-e;}
#dContainer-73-15 {grid-row:rDTile-73-6-e/rDContainer-73-b; grid-column:cDContainer-73-1-s/cDContainer-73-1-e;}
#dContainer-73-16 {grid-row:rDTile-73-7-e/rDContainer-73-b; grid-column:cDContainer-73-1-s/cDContainer-73-1-e;}
#dContainer-73-17 {grid-row:rDTile-73-8-e/rDContainer-73-b; grid-column:cDContainer-73-1-s/cDContainer-73-1-e;}
#dContainer-73-21 {grid-row:rDTile-73-2-e/rDContainer-73-b; grid-column:cDContainer-73-2-s/cDContainer-73-2-e;}
#dContainer-73-22 {grid-row:rDTile-73-3-e/rDContainer-73-b; grid-column:cDContainer-73-2-s/cDContainer-73-2-e;}
#dContainer-73-23 {grid-row:rDTile-73-4-e/rDContainer-73-b; grid-column:cDContainer-73-2-s/cDContainer-73-2-e;}
#dContainer-73-24 {grid-row:rDTile-73-5-e/rDContainer-73-b; grid-column:cDContainer-73-2-s/cDContainer-73-2-e;}
#dContainer-73-25 {grid-row:rDTile-73-6-e/rDContainer-73-b; grid-column:cDContainer-73-2-s/cDContainer-73-2-e;}
#dContainer-73-26 {grid-row:rDTile-73-7-e/rDContainer-73-b; grid-column:cDContainer-73-2-s/cDContainer-73-2-e;}
#dContainer-73-27 {grid-row:rDTile-73-8-e/rDContainer-73-b; grid-column:cDContainer-73-2-s/cDContainer-73-2-e;}
#dContainer-73-31 {grid-row:rDTile-73-2-e/rDContainer-73-b; grid-column:cDContainer-73-3-s/cDContainer-73-3-e;}
#dContainer-73-32 {grid-row:rDTile-73-3-e/rDContainer-73-b; grid-column:cDContainer-73-3-s/cDContainer-73-3-e;}
#dContainer-73-33 {grid-row:rDTile-73-4-e/rDContainer-73-b; grid-column:cDContainer-73-3-s/cDContainer-73-3-e;}
#dContainer-73-34 {grid-row:rDTile-73-5-e/rDContainer-73-b; grid-column:cDContainer-73-3-s/cDContainer-73-3-e;}
#dContainer-73-35 {grid-row:rDTile-73-6-e/rDContainer-73-b; grid-column:cDContainer-73-3-s/cDContainer-73-3-e;}
#dContainer-73-36 {grid-row:rDTile-73-7-e/rDContainer-73-b; grid-column:cDContainer-73-3-s/cDContainer-73-3-e;}
#dContainer-73-37 {grid-row:rDTile-73-8-e/rDContainer-73-b; grid-column:cDContainer-73-3-s/cDContainer-73-3-e;}

#mSquare-73-1 {grid-row:rMRow-7-1/rMRow-7-2; grid-column:cMColumn-7-1/cMColumn-7-2;}
#mSquare-73-2 {grid-row:rMRow-7-1/rMRow-7-2; grid-column:cMColumn-7-2/cMColumn-7-3;}
#mSquare-73-3 {grid-row:rMRow-7-1/rMRow-7-2; grid-column:cMColumn-7-3/cMColumn-7-e;}
#mSquare-73-4 {grid-row:rMRow-7-2/rMRow-7-3; grid-column:cMColumn-7-1/cMColumn-7-2;}
#mSquare-73-5 {grid-row:rMRow-7-2/rMRow-7-3; grid-column:cMColumn-7-2/cMColumn-7-3;}
#mSquare-73-6 {grid-row:rMRow-7-2/rMRow-7-3; grid-column:cMColumn-7-3/cMColumn-7-e;}
#mSquare-73-7 {grid-row:rMRow-7-3/rMRow-7-e; grid-column:cMColumn-7-1/cMColumn-7-2;}
#mSquare-73-8 {grid-row:rMRow-7-3/rMRow-7-e; grid-column:cMColumn-7-2/cMColumn-7-3;}
#mSquare-73-9 {grid-row:rMRow-7-3/rMRow-7-e; grid-column:cMColumn-7-3/cMColumn-7-e;}

#cBackground-73 {grid-row:rCBackground-7-s/rCBackground-7-e; grid-column:cPanel-73-s/cPanel-73-e;}
#cDispense-73-1 {grid-row:rCDispense-7-s/rCDispense-7-e; grid-column:cDTile-73-1-s/cDTile-73-1-e;}
#cDispense-73-2 {grid-row:rCDispense-7-s/rCDispense-7-e; grid-column:cDTile-73-2-s/cDTile-73-2-e;}
#cDispense-73-3 {grid-row:rCDispense-7-s/rCDispense-7-e; grid-column:cDTile-73-3-s/cDTile-73-3-e;}


.plateColour {background-color:#9E9E9E;}
.dTile {display:none; z-index:5; margin:0; padding:0; background-color:orange;}
.dContainer {
	display:none;
	z-index:4;
	margin:0; padding:0;
	/* background-color:#FAFAFA; */
	background-color:#F5F5F5;
	border-style:solid; border-color:black; border-top-width:1.6px; border-bottom-width:0; border-left-width:1.6px; border-right-width:1.6px;
}
/* .mSquare {z-index:4; margin:0; padding:0; background-color:gray; font-size: 5em; text-align:center;} */
.mSquare {z-index:4; margin:0; padding:0; background-color:transparent; color:#B2B2B2; font-size: 5em; text-align:center;}
.mSquare-lt {border-style:solid; border-color:black; border-top-width:0.8px; border-bottom-width:0; border-left-width:0.8px; border-right-width:0;}
.mSquare-ltr {border-style:solid; border-color:black; border-top-width:0.8px; border-bottom-width:0; border-left-width:0.8px; border-right-width:0.8px;}
.mSquare-blt {border-style:solid; border-color:black; border-top-width:0.8px; border-bottom-width:0.8px; border-left-width:0.8px; border-right-width:0;}
.mSquare-bltr {border-style:solid; border-color:black; border-top-width:0.8px; border-bottom-width:0.8px; border-left-width:0.8px; border-right-width:0.8px;}

.tickCross {margin:0; padding:0; text-align:center; border:none; background-color:transparent; color:black; font-size:6em;}

.cCommon {margin:0; padding:0;}
/* .cSecondary {text-align:center; border:none; background-color:rgb(25%,25%,25%); color:white;} */
.cSecondary {text-align:center; border:none; background-color:#484848; color:white; font-size:2.5em;}
.cTertiary {text-align:left; border:none; background-color:transparent; color:black; font-size:3em}
/* .cBackground {z-index:4; margin:0; padding:0; background-color:gray;} */
.cBackground {z-index:4; margin:0; padding:0;}
/* .cDispense {z-index:5; margin:0; padding:0; border:none; background-color:lime; font-size:3em; text-align:center;} */
.cDispense {z-index:5; margin:0; padding:0; border-style:solid; border-width:thin; border-color:white; background-color:maroon; color:white; font-size:3em; text-align:center;}
.cBack {font-size: 3em; text-align:center;}

.pHeader {padding:0; font-size:3.6em; border-style:none; border-radius:0.3em; margin:0; background-color:black; color:white; text-align:center;}

  </style>
</head>

<body>
	<div id="information" class="plateColour">
		<button id="iBack" class="cCommon cTertiary"><code><strong>&lt;</strong></code></button>

		<button id="iHeader" class="pHeader"><strong>Information</strong></button>
	
		<div id="iInstructions">Build a square which has just ONE area of each colour.<br><br>
								As well as instructions:<br>
								* puzzle number<br>
								* date when a new puzzle will appear<br>
								* links to other puzzles<br>
								* Lazy Dog ad<br>
								* copyright<br>
		</div>
	</div>
	<div id="door-3"
		 style="height:120em;
				grid-template-rows:[rDoor-3-s]3fr[rPHeader-3-s]6fr[rPHeader-3-e]3fr[rCTop-3-s]6fr[rCTop-3-e]3fr
				[rPanel-3-s]80fr[rPanel-3-e]3fr[rCBottom-3-s]6fr[rCBottom-3-e]3fr[rDoor-3-e];
			   "
		 >
		<button id="pHeader-3" class="pHeader"><strong>Dispensers</strong></button>
		<button id="cInformation-3" class="cCommon cSecondary">Information</button>
		<button id="cHint-3" class="cCommon cSecondary">Hint</button>
		<button id="cSolution-3" class="cCommon cSecondary">Solution</button>
		
		<div id="panel-33">
			<div id="dTile-33-11" class="dTile"></div>
			<div id="dTile-33-12" class="dTile"></div>
			<div id="dTile-33-13" class="dTile"></div>
			<div id="dTile-33-21" class="dTile"></div>
			<div id="dTile-33-22" class="dTile"></div>
			<div id="dTile-33-23" class="dTile"></div>
			<div id="dTile-33-31" class="dTile"></div>
			<div id="dTile-33-32" class="dTile"></div>
			<div id="dTile-33-33" class="dTile"></div>

			<div id="dContainer-33-11" class="dContainer"></div>
			<div id="dContainer-33-12" class="dContainer"></div>
			<div id="dContainer-33-13" class="dContainer"></div>
			<div id="dContainer-33-21" class="dContainer"></div>
			<div id="dContainer-33-22" class="dContainer"></div>
			<div id="dContainer-33-23" class="dContainer"></div>
			<div id="dContainer-33-31" class="dContainer"></div>
			<div id="dContainer-33-32" class="dContainer"></div>
			<div id="dContainer-33-33" class="dContainer"></div>

			<button id="mSquare-33-1" class="mSquare mSquare-lt">1</button>
			<button id="mSquare-33-2" class="mSquare mSquare-lt">2</button>
			<button id="mSquare-33-3" class="mSquare mSquare-ltr">3</button>
			<button id="mSquare-33-4" class="mSquare mSquare-lt">4</button>
			<button id="mSquare-33-5" class="mSquare mSquare-lt">5</button>
			<button id="mSquare-33-6" class="mSquare mSquare-ltr">6</button>
			<button id="mSquare-33-7" class="mSquare mSquare-blt">7</button>
			<button id="mSquare-33-8" class="mSquare mSquare-blt">8</button>
			<button id="mSquare-33-9" class="mSquare mSquare-bltr">9</button>

			<div id="cBackground-33" class="cBackground"></div>
			<button id="cDispense-33-1" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-33-2" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-33-3" class="cDispense"><strong>&bigtriangledown;</strong></button>
		</div>
		
		<div id="panel-34">
			<div id="dTile-34-11" class="dTile"></div>
			<div id="dTile-34-12" class="dTile"></div>
			<div id="dTile-34-13" class="dTile"></div>
			<div id="dTile-34-21" class="dTile"></div>
			<div id="dTile-34-22" class="dTile"></div>
			<div id="dTile-34-23" class="dTile"></div>
			<div id="dTile-34-31" class="dTile"></div>
			<div id="dTile-34-32" class="dTile"></div>
			<div id="dTile-34-33" class="dTile"></div>
			<div id="dTile-34-41" class="dTile"></div>
			<div id="dTile-34-42" class="dTile"></div>
			<div id="dTile-34-43" class="dTile"></div>

			<div id="dContainer-34-11" class="dContainer"></div>
			<div id="dContainer-34-12" class="dContainer"></div>
			<div id="dContainer-34-13" class="dContainer"></div>
			<div id="dContainer-34-21" class="dContainer"></div>
			<div id="dContainer-34-22" class="dContainer"></div>
			<div id="dContainer-34-23" class="dContainer"></div>
			<div id="dContainer-34-31" class="dContainer"></div>
			<div id="dContainer-34-32" class="dContainer"></div>
			<div id="dContainer-34-33" class="dContainer"></div>
			<div id="dContainer-34-41" class="dContainer"></div>
			<div id="dContainer-34-42" class="dContainer"></div>
			<div id="dContainer-34-43" class="dContainer"></div>
			
			<button id="mSquare-34-1" class="mSquare mSquare-lt">1</button>
			<button id="mSquare-34-2" class="mSquare mSquare-lt">2</button>
			<button id="mSquare-34-3" class="mSquare mSquare-ltr">3</button>
			<button id="mSquare-34-4" class="mSquare mSquare-lt">4</button>
			<button id="mSquare-34-5" class="mSquare mSquare-lt">5</button>
			<button id="mSquare-34-6" class="mSquare mSquare-ltr">6</button>
			<button id="mSquare-34-7" class="mSquare mSquare-blt">7</button>
			<button id="mSquare-34-8" class="mSquare mSquare-blt">8</button>
			<button id="mSquare-34-9" class="mSquare mSquare-bltr">9</button>

			<div id="cBackground-34" class="cBackground"></div>
			<button id="cDispense-34-1" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-34-2" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-34-3" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-34-4" class="cDispense"><strong>&bigtriangledown;</strong></button>
		</div>

		<button id="cReset-3" class="cCommon cSecondary">Reset</button>
		<button id="cBack-3" class="cCommon cSecondary cBack">&bigtriangleup;</button>
	</div>
	

	<div id="door-4" class="plateColour"
		 style="height:120em;
				grid-template-rows:[rDoor-4-s]3fr[rPHeader-4-s]7fr[rPHeader-4-e]3fr[rCTop-4-s]6fr[rCTop-4-e]3fr
				[rPanel-4-s]80fr[rPanel-4-e]3fr[rCBottom-4-s]6fr[rCBottom-4-e]3fr[rDoor-4-e];
			   "
		 >
		<button id="pHeader-4" class="pHeader"><strong>Dispensers<sup>&lambda;</sup></strong></button>
		<button id="cInformation-4" class="cCommon cSecondary">Information</button>
		<button id="cHint-4" class="cCommon cSecondary">Hint</button>
		<button id="cSolution-4" class="cCommon cSecondary">Solution</button>

		<div id="panel-43">
			<div id="dTile-43-11" class="dTile"></div>
			<div id="dTile-43-12" class="dTile"></div>
			<div id="dTile-43-13" class="dTile"></div>
			<div id="dTile-43-14" class="dTile"></div>
			<div id="dTile-43-21" class="dTile"></div>
			<div id="dTile-43-22" class="dTile"></div>
			<div id="dTile-43-23" class="dTile"></div>
			<div id="dTile-43-24" class="dTile"></div>
			<div id="dTile-43-31" class="dTile"></div>
			<div id="dTile-43-32" class="dTile"></div>
			<div id="dTile-43-33" class="dTile"></div>
			<div id="dTile-43-34" class="dTile"></div>

			<div id="dContainer-43-11" class="dContainer"></div>
			<div id="dContainer-43-12" class="dContainer"></div>
			<div id="dContainer-43-13" class="dContainer"></div>
			<div id="dContainer-43-14" class="dContainer"></div>
			<div id="dContainer-43-21" class="dContainer"></div>
			<div id="dContainer-43-22" class="dContainer"></div>
			<div id="dContainer-43-23" class="dContainer"></div>
			<div id="dContainer-43-24" class="dContainer"></div>
			<div id="dContainer-43-31" class="dContainer"></div>
			<div id="dContainer-43-32" class="dContainer"></div>
			<div id="dContainer-43-33" class="dContainer"></div>
			<div id="dContainer-43-34" class="dContainer"></div>
			
			<button id="mSquare-43-1" class="mSquare mSquare-lt">1</button>
			<button id="mSquare-43-2" class="mSquare mSquare-lt">2</button>
			<button id="mSquare-43-3" class="mSquare mSquare-ltr">3</button>
			<button id="mSquare-43-4" class="mSquare mSquare-lt">4</button>
			<button id="mSquare-43-5" class="mSquare mSquare-lt">5</button>
			<button id="mSquare-43-6" class="mSquare mSquare-ltr">6</button>
			<button id="mSquare-43-7" class="mSquare mSquare-blt">7</button>
			<button id="mSquare-43-8" class="mSquare mSquare-blt">8</button>
			<button id="mSquare-43-9" class="mSquare mSquare-bltr">9</button>
			
			<button id="TickCross-43" class="tickCross">&cross;</button>

			<div id="cBackground-43" class="cBackground plateColour"></div>
			<button id="cDispense-43-1" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-43-2" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-43-3" class="cDispense"><strong>&bigtriangledown;</strong></button>
		</div>
		
		<button id="cReset-4" class="cCommon cSecondary">Reset</button>
		<button id="cBack-4" class="cCommon cSecondary cBack">&bigtriangleup;</button>
	</div>

	
	<div id="door-7" class="plateColour"
		 style="height:120em;
				grid-template-rows:[rDoor-7-s]3fr[rPHeader-7-s]7fr[rPHeader-7-e]3fr[rCTop-7-s]6fr[rCTop-7-e]3fr
				[rPanel-7-s]80fr[rPanel-7-e]3fr[rCBottom-7-s]6fr[rCBottom-7-e]3fr[rDoor-7-e];
			   "
		 >
		<button id="pHeader-7" class="pHeader"><strong>Dispensers<sup>&lambda;</sup></strong></button>
		<button id="cInformation-7" class="cCommon cSecondary">Information</button>
		<button id="cHint-7" class="cCommon cSecondary">Hint</button>
		<button id="cSolution-7" class="cCommon cSecondary">Solution</button>

		<div id="panel-72">
			<div id="dTile-72-11" class="dTile"></div>
			<div id="dTile-72-12" class="dTile"></div>
			<div id="dTile-72-13" class="dTile"></div>
			<div id="dTile-72-14" class="dTile"></div>
			<div id="dTile-72-15" class="dTile"></div>
			<div id="dTile-72-16" class="dTile"></div>
			<div id="dTile-72-17" class="dTile"></div>
			<div id="dTile-72-21" class="dTile"></div>
			<div id="dTile-72-22" class="dTile"></div>
			<div id="dTile-72-23" class="dTile"></div>
			<div id="dTile-72-24" class="dTile"></div>
			<div id="dTile-72-25" class="dTile"></div>
			<div id="dTile-72-26" class="dTile"></div>
			<div id="dTile-72-27" class="dTile"></div>

			<div id="dContainer-72-11" class="dContainer"></div>
			<div id="dContainer-72-12" class="dContainer"></div>
			<div id="dContainer-72-13" class="dContainer"></div>
			<div id="dContainer-72-14" class="dContainer"></div>
			<div id="dContainer-72-15" class="dContainer"></div>
			<div id="dContainer-72-16" class="dContainer"></div>
			<div id="dContainer-72-17" class="dContainer"></div>
			<div id="dContainer-72-21" class="dContainer"></div>
			<div id="dContainer-72-22" class="dContainer"></div>
			<div id="dContainer-72-23" class="dContainer"></div>
			<div id="dContainer-72-24" class="dContainer"></div>
			<div id="dContainer-72-25" class="dContainer"></div>
			<div id="dContainer-72-26" class="dContainer"></div>
			<div id="dContainer-72-27" class="dContainer"></div>

			<button id="mSquare-72-1" class="mSquare mSquare-lt">1</button>
			<button id="mSquare-72-2" class="mSquare mSquare-lt">2</button>
			<button id="mSquare-72-3" class="mSquare mSquare-ltr">3</button>
			<button id="mSquare-72-4" class="mSquare mSquare-lt">4</button>
			<button id="mSquare-72-5" class="mSquare mSquare-lt">5</button>
			<button id="mSquare-72-6" class="mSquare mSquare-ltr">6</button>
			<button id="mSquare-72-7" class="mSquare mSquare-blt">7</button>
			<button id="mSquare-72-8" class="mSquare mSquare-blt">8</button>
			<button id="mSquare-72-9" class="mSquare mSquare-bltr">9</button>
			
			<button id="TickCross-72" class="tickCross">&cross;</button>

			<div id="cBackground-72" class="cBackground plateColour"></div>
			<button id="cDispense-72-1" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-72-2" class="cDispense"><strong>&bigtriangledown;</strong></button>
		</div>
		
		<div id="panel-73">
			<div id="dTile-73-11" class="dTile"></div>
			<div id="dTile-73-12" class="dTile"></div>
			<div id="dTile-73-13" class="dTile"></div>
			<div id="dTile-73-14" class="dTile"></div>
			<div id="dTile-73-15" class="dTile"></div>
			<div id="dTile-73-16" class="dTile"></div>
			<div id="dTile-73-17" class="dTile"></div>
			<div id="dTile-73-21" class="dTile"></div>
			<div id="dTile-73-22" class="dTile"></div>
			<div id="dTile-73-23" class="dTile"></div>
			<div id="dTile-73-24" class="dTile"></div>
			<div id="dTile-73-25" class="dTile"></div>
			<div id="dTile-73-26" class="dTile"></div>
			<div id="dTile-73-27" class="dTile"></div>
			<div id="dTile-73-31" class="dTile"></div>
			<div id="dTile-73-32" class="dTile"></div>
			<div id="dTile-73-33" class="dTile"></div>
			<div id="dTile-73-34" class="dTile"></div>
			<div id="dTile-73-35" class="dTile"></div>
			<div id="dTile-73-36" class="dTile"></div>
			<div id="dTile-73-37" class="dTile"></div>

			<div id="dContainer-73-11" class="dContainer"></div>
			<div id="dContainer-73-12" class="dContainer"></div>
			<div id="dContainer-73-13" class="dContainer"></div>
			<div id="dContainer-73-14" class="dContainer"></div>
			<div id="dContainer-73-15" class="dContainer"></div>
			<div id="dContainer-73-16" class="dContainer"></div>
			<div id="dContainer-73-17" class="dContainer"></div>
			<div id="dContainer-73-21" class="dContainer"></div>
			<div id="dContainer-73-22" class="dContainer"></div>
			<div id="dContainer-73-23" class="dContainer"></div>
			<div id="dContainer-73-24" class="dContainer"></div>
			<div id="dContainer-73-25" class="dContainer"></div>
			<div id="dContainer-73-26" class="dContainer"></div>
			<div id="dContainer-73-27" class="dContainer"></div>
			<div id="dContainer-73-31" class="dContainer"></div>
			<div id="dContainer-73-32" class="dContainer"></div>
			<div id="dContainer-73-33" class="dContainer"></div>
			<div id="dContainer-73-34" class="dContainer"></div>
			<div id="dContainer-73-35" class="dContainer"></div>
			<div id="dContainer-73-36" class="dContainer"></div>
			<div id="dContainer-73-37" class="dContainer"></div>
			
			<button id="mSquare-73-1" class="mSquare mSquare-lt">1</button>
			<button id="mSquare-73-2" class="mSquare mSquare-lt">2</button>
			<button id="mSquare-73-3" class="mSquare mSquare-ltr">3</button>
			<button id="mSquare-73-4" class="mSquare mSquare-lt">4</button>
			<button id="mSquare-73-5" class="mSquare mSquare-lt">5</button>
			<button id="mSquare-73-6" class="mSquare mSquare-ltr">6</button>
			<button id="mSquare-73-7" class="mSquare mSquare-blt">7</button>
			<button id="mSquare-73-8" class="mSquare mSquare-blt">8</button>
			<button id="mSquare-73-9" class="mSquare mSquare-bltr">9</button>

			<div id="cBackground-73" class="cBackground"></div>
			<button id="cDispense-73-1" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-73-2" class="cDispense"><strong>&bigtriangledown;</strong></button>
			<button id="cDispense-73-3" class="cDispense"><strong>&bigtriangledown;</strong></button>
		</div>
		
		<button id="cReset-7" class="cCommon cSecondary">Reset</button>
		<button id="cBack-7" class="cCommon cSecondary cBack">&bigtriangleup;</button>
	</div>
</body>
</html>

<script>
//const doorHeightAbovePanel = 21;
const doorHeightAbovePanel = 22;
const doorHeightBelowPanel = 12;
const numGridColumns = 59;

console.log('Thank you');
console.log(`${window.innerHeight}px`);
console.log(`${window.innerWidth}px`);
console.log(`${window.devicePixelRatio}`);

function updateFontSize(MaxTilesInADispenser, numGridRows, numGridColumns) {
  console.log('updateFontSize called');
  console.log(numGridRows);
  console.log(numGridColumns);
  
  let innerDimension = 0
  let gridDimension = 0
  if ((window.innerHeight / numGridRows) <= (window.innerWidth / numGridColumns)) {
    innerDimension = window.innerHeight;
	gridDimension = numGridRows;
	}
  else {
    innerDimension = window.innerWidth;
	gridDimension = numGridColumns;
	}
	
  const percent = innerDimension / 100;
  console.log('percent');
  console.log(percent);
  let fontSize = 0;
  let reducingInnerDimension = innerDimension + 1;
  do {
    reducingInnerDimension = reducingInnerDimension - 1
    fontSize = Math.floor((reducingInnerDimension / gridDimension) * window.devicePixelRatio) / window.devicePixelRatio
    console.log('fontSize');
    console.log(fontSize);
  } while ((innerDimension - (fontSize * gridDimension)) < (2 * percent));
  console.log('final fontSize');
  console.log(fontSize);
  document.body.style.fontSize = `${fontSize}px`;
  
  let spareHeight = window.innerHeight - (fontSize * numGridRows);
  console.log('spareHeight');
  console.log(spareHeight);
  let deviceSpareHeight = spareHeight * window.devicePixelRatio;
  console.log('deviceSpareHeight');
  console.log(deviceSpareHeight);
  let roundedDeviceSpareHeight = Math.trunc(deviceSpareHeight / 2) * 2;
  console.log('roundedDeviceSpareHeight');
  console.log(roundedDeviceSpareHeight);
  let roundedSpareHeight = roundedDeviceSpareHeight / window.devicePixelRatio;
  console.log('roundedSpareHeight');
  console.log(roundedSpareHeight);
  const doorId = "#door-" + String(MaxTilesInADispenser);
  let door = document.querySelector(doorId);
  let information = document.querySelector("#information");
  door.style.top = `${roundedSpareHeight / 2}px`;
  information.style.top = `${roundedSpareHeight / 2}px`;
  
  let spareWidth = window.innerWidth - (fontSize * numGridColumns);
  console.log('spareWidth');
  console.log(spareWidth);
  let deviceSpareWidth = spareWidth * window.devicePixelRatio;
  console.log('deviceSpareWidth');
  console.log(deviceSpareWidth);
  let roundedDeviceSpareWidth = Math.trunc(deviceSpareWidth / 2) * 2
  console.log('roundedDeviceSpareWidth');
  console.log(roundedDeviceSpareWidth);
  let roundedSpareWidth = roundedDeviceSpareWidth / window.devicePixelRatio;
  console.log('roundedSpareWidth');
  console.log(roundedSpareWidth);
  door.style.left = `${roundedSpareWidth / 2}px`;
  information.style.left = `${roundedSpareWidth / 2}px`;
  
  return fontSize;
}
//let fontSize = updateFontSize();

/*
function setBorderWidths(fontSize, internalFraction, externalFraction) {
  let internalWidth = Math.floor(fontSize * internalFraction * window.devicePixelRatio);
  if (internalWidth == 0) {
    internalWidth = 1
	}
  console.log('internalWidth');
  console.log(internalWidth);
  const increment = 0.01;
  let increasingExternalFraction = externalFraction - increment;
  do {
    increasingExternalFraction = increasingExternalFraction + increment;
    console.log('increasingExternalFraction');
	console.log(increasingExternalFraction);
	increasingExternalWidth = Math.floor(fontSize * increasingExternalFraction * window.devicePixelRatio);
    console.log('increasingExternalWidth');
	console.log(increasingExternalWidth);
  } while (increasingExternalWidth <= internalWidth);
  
  const styleSheet = document.styleSheets[0]
  const thinTopRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".thin-top");
  thinTopRule.style.setProperty("border-top-width", `${internalFraction}em`);
  const thinBottomRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".thin-bottom");
  thinBottomRule.style.setProperty("border-bottom-width", `${internalFraction}em`);
  const thinLeftRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".thin-left");
  thinLeftRule.style.setProperty("border-left-width", `${internalFraction}em`);
  const thinRightRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".thin-right");
  thinRightRule.style.setProperty("border-right-width", `${internalFraction}em`);

  const edgeTopRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".edge-top");
  edgeTopRule.style.setProperty("border-top-width", `${increasingExternalFraction}em`);
  const edgeBottomRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".edge-bottom");
  edgeBottomRule.style.setProperty("border-bottom-width", `${increasingExternalFraction}em`);
  const edgeLeftRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".edge-left");
  edgeLeftRule.style.setProperty("border-left-width", `${increasingExternalFraction}em`);
  const edgeRightRule = [...styleSheet.cssRules].find((r) => r.selectorText === ".edge-right");
  edgeRightRule.style.setProperty("border-right-width", `${increasingExternalFraction}em`);
}
setBorderWidths(fontSize, 0.02, 0.05);
*/


//const offGridColourOffGrid = `black`;
//const offGridColourInGrid = `gray`;
//const gridColourNotSelected = `gray`;
//const gridColourSelected = `rgb(0%,0%,80%)`;
//const gridColourComplete = `black`;
//const gridColourHintAlone = `black`;
//const gridColourSolution = `black`;

//const pColour = `black`;
//const qColour = `#0072B2`;
//const rColour = `#009E73`;
//const sColour = `#E69F00`;
//const tColour = `#CC79A7`;



//Raw data
let puzzle = {
	dispenserFullSpec:[],
	numDispensers: undefined,
	dispenserHeightSpec: [undefined],
	maxDispenserHeight: undefined,
	matrixSpec: [],
	tileColours: [],
	hintColour: undefined,
	hintIndex: undefined,
	solutionDispenseSequence: [],
	solutionColourSequence: []
};

function initialisePuzzle(dispenserSpec, matrixSpec, colourSpec, hintSpec, solutionDispenseSequence, solutionColourSequence) {
	puzzle.dispenserFullSpec = dispenserSpec;
	puzzle.numDispensers = puzzle.dispenserFullSpec.length - 1;
	for (let i = 1; i <= puzzle.numDispensers; i++) puzzle.dispenserHeightSpec[i] = puzzle.dispenserFullSpec[i].length;
	puzzle.maxDispenserHeight = 1;
	for (let d = 1; d <= puzzle.numDispensers; d++) {
		if (puzzle.dispenserHeightSpec[d] > puzzle.maxDispenserHeight) puzzle.maxDispenserHeight = puzzle.dispenserHeightSpec[d];
	};
	puzzle.matrixSpec = matrixSpec;

	let colourCodeLookUp = [];
	colourCodeLookUp["black"] = `black`;
	colourCodeLookUp["blue"] = `#0072B2`;
	colourCodeLookUp["green"] = `#009E73`;
	colourCodeLookUp["orange"] = `#E69F00`;
	colourCodeLookUp["pink"] = `#CC79A7`;
	const tileCodes = ["p", "q", "r", "s", "t"];
	for (let i = 0; i < tileCodes.length; i++) puzzle.tileColours[tileCodes[i]] = colourCodeLookUp[colourSpec[i]];
	
	puzzle.hintColour = colourCodeLookUp[hintSpec[0]];
	puzzle.hintIndex = hintSpec[1];
	puzzle.solutionDispenseSequence = solutionDispenseSequence;
	for (let i = 0; i < solutionColourSequence.length; i++) puzzle.solutionColourSequence[i] = colourCodeLookUp[solutionColourSequence[i]];

	console.log(puzzle);
}

//From JSON
//const dispenserSpec = [undefined, "pq","rstpqrs"];
//const matrixSpec = [8, 5, 2, 1, 3, 4, 6, 7, 9];
//const colourSpec = ["black", "blue", "green", "orange", "pink"];
//const hint = ["orange", 8];
//const solution = [1, 1, 2, 2, 2, 2, 2, 2, 2];

const dispenserSpec = [undefined, "ps","rsr", "pqtq"];
const matrixSpec = [1, 2, 3, 4, 5, 6, 7, 8, 9];
const colourSpec = ["blue", "black", "green", "orange", "pink"];
const hintSpec = ["blue", 6];
const solutionDispenseSequence = [2, 2, 1, 2, 3, 1, 3, 3, 3];
const solutionColourSequence = ["green", "orange", "orange", "green", "black", "blue", "pink", "black", "blue"];

//const dispenserSpec = [undefined, "p", "qrstpqr", "s"];
//const dispenserSpec = [undefined, "pqr", "stp", "qrs"];
//const dispenserSpec = [undefined, "pqr", "st", "pq", "rs"];
initialisePuzzle(dispenserSpec, matrixSpec, colourSpec, hintSpec, solutionDispenseSequence, solutionColourSequence);
//console.log(puzzle);


//let solve = {
//	words: [],
//	selectedWordNum: 0,
//	hints: [],
//	numHintsGiven: 0
//}

//function initialiseSolve() {
//	for (i = 1; i <= 5; i++) {
//		solve.words[i] = new Word(puzzle.words[i]);
//	}
//	solve.selectedWordNum = 0;
//	for (let hint of puzzle.hints) {
//		solve.hints.push(new Hint(hint[0], new LinePosition(hint[1], hint[2])));
//	}
//	console.log(solve.hints);
//	solve.numHintsGiven = 0;
//}
//initialiseSolve();

//let anotherTile = document.createElement("div");
//anotherTile.id = "dTile-41";
//anotherTile.className = "dTile";
//let panel = document.querySelector("#panel");
//panel.append(anotherTile);

//const tile_33_23 = document.querySelector("#dTile-33-23");
//tile_33_23.remove();

//let spec = [undefined];
//for (i = 1; i < puzzle.dispensers.length; i++) spec[i] = puzzle.dispensers[i].length;
//const spec = [undefined, 2, 7, 1];
//const spec = [undefined, 3, 2, 1];
//const numDispensers = spec.length - 1;
//let MaxTilesInADispenser = 1;
//for (d = 1; d <= numDispensers; d++) {if (spec[d] > MaxTilesInADispenser) MaxTilesInADispenser = spec[d];};
const doorId = "door-" + String(puzzle.maxDispenserHeight);
const doorRef = document.getElementById(doorId);
doorRef.style.display = `grid`;
const panelId = "panel-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers);
const panelRef = document.getElementById(panelId);
panelRef.style.display = `grid`;
const panelHeight = 3 + (1 + 7) * puzzle.maxDispenserHeight + 7 + (3 * 7) + 3 + 3 + 6;
panelRef.style.height = `${panelHeight}em`;
for (let d = 1; d <= puzzle.numDispensers; d++) {
	const numTiles = puzzle.dispenserHeightSpec[d];
	const containerId = "dContainer-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers) + "-" + String(d) + String(numTiles);
	const containerRef = document.getElementById(containerId);
	containerRef.style.display = `block`;
	for (let t = 1; t <= numTiles; t++) {
		const tileId = "dTile-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers) + "-" + String(d) + String(t);
		const tileRef = document.getElementById(tileId);
		tileRef.style.display = `block`;
	}
}
for (let t = 1; t <= 9; t++) {
	const tileId = "mSquare-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers) + "-" + String(t);
	const tileRef = document.getElementById(tileId);
	tileRef.style.display = `block`;
}
const doorStyle = doorRef.style.cssText;
console.log(doorStyle);
newDoorStyle = doorStyle.replace(/80/, String(panelHeight));
console.log(newDoorStyle);
doorRef.style.cssText = newDoorStyle;
//Here to avoid risk of introducing "80" into the style string.
const doorHeight = doorHeightAbovePanel + panelHeight + doorHeightBelowPanel;
doorRef.style.height = `${doorHeight}em`;
updateFontSize(puzzle.maxDispenserHeight, doorHeight, numGridColumns);




const dispenserBackgroundColour = `#F5F5F5`;
const matrixBackgroundColour = `transparent`;
const matrixForegroundColour = `#B2B2B2`;

//const tileColours = [];
//tileColours["p"] = pColour;
//tileColours["q"] = qColour;
//tileColours["r"] = rColour;
//tileColours["s"] = sColour;
//tileColours["t"] = tColour;


class Tile {
	constructor(dispenser, colour) {
		this.dispenser = dispenser;
		this.colour = colour;
	}
}

class Dispenser {
	constructor(tileSequence, tileIdRoot) {
		this.tileQueue = [];
		for (let t = 0; t < tileSequence.length; t++) {
			const tile = new Tile(this, puzzle.tileColours[tileSequence[t]]);
			this.tileQueue.unshift(tile);
		}
		
		this.tileStyles = [];
		const styleSheet = document.styleSheets[0];
		for (let t = 1; t <= tileSequence.length; t++) {
			const tileId = tileIdRoot + String(t);
			const tileRule = [...styleSheet.cssRules].find((r) => r.selectorText === tileId);
			this.tileStyles.push(tileRule);
		}
		
		this.container = [];
		for (let t = 0; t < this.tileQueue.length; t++) this.container[t] = this.tileQueue[t];
				
		this.numTilesInContainer = this.tileQueue.length;
	}
	
	refresh() {
		for (let t = 0; t < this.container.length; t++) {
			const colour = this.container[t] == null ? dispenserBackgroundColour : this.container[t].colour;
			this.tileStyles[t].style.setProperty("background-color", colour);
		}
	}
	
	reset() {	
		this.container = [];
		for (let t = 0; t < this.tileQueue.length; t++) this.container[t] = this.tileQueue[t];
		this.numTilesInContainer = this.tileQueue.length;
	}
	
	takeTile() {
		const tile = this.container.shift();
		this.container.push(null);
		this.numTilesInContainer--;
		return tile;
	}
	
	replaceTile() {
		this.container.pop();
		const tile = this.tileQueue[this.tileQueue.length - this.numTilesInContainer - 1];
		this.container.unshift(tile);
		this.numTilesInContainer++;		
	}
}

/*
let matrix = {
	squareStyles: [undefined],
	squareTiles: [undefined],
	numTilesInPlace: undefined,
	squarePositions: []
}

function initialiseMatrix() {
	matrix.squarePositions = puzzle.matrixSpec;
	const squareIdRoot = "#mSquare-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers) + "-";
	for (i = 0;  i < matrix.squarePositions.length; i++) {
		const position = i + 1;
		const squareId = squareIdRoot + String(matrix.squarePositions[i]);
		const squareElement = document.querySelector(squareId);
		squareElement.textContent = String(position);
	}
	const styleSheet = document.styleSheets[0];
	for (s = 1; s <= 9; s++) {
		const squareId = squareIdRoot + String(s);
		const squareRule = [...styleSheet.cssRules].find((r) => r.selectorText === squareId);
		matrix.squareStyles.push(squareRule);
		matrix.squareTiles.push(null);
		}
	matrix.numTilesInPlace = 0;
}
initialiseMatrix();
console.log(matrix);

function placeTileInMatrix(tile) {
//	const nextPosition = matrix.numTilesInPlace + 1;
	const nextPosition = matrix.squarePositions[matrix.numTilesInPlace];
	matrix.squareTiles[nextPosition] = tile;
	matrix.numTilesInPlace++;
}

function removeTileFromMatrix() {
//	const tile = matrix.squareTiles[matrix.numTilesInPlace];
	const tileNum = matrix.squarePositions[matrix.numTilesInPlace - 1];
	const tile = matrix.squareTiles[tileNum];
	matrix.squareTiles[tileNum] = null;
	matrix.numTilesInPlace--;
	return tile;
}

function resetMatrix() {
	for (s = 1; s <= 9; s++) matrix.squareTiles[s] = null;
	matrix.numTilesInPlace = 0;	
}

function refreshMatrix() {
	for (s = 1; s <= 9; s++) {
		let backgroundColour = matrixBackgroundColour;
		let foregroundColour = matrixForegroundColour;
		if (matrix.squareTiles[s] != null) {
			backgroundColour = matrix.squareTiles[s].colour;
			foregroundColour = backgroundColour;
		}
		matrix.squareStyles[s].style.setProperty("background-color", backgroundColour);
		matrix.squareStyles[s].style.setProperty("color", foregroundColour);
	}
}
*/

class Matrix {
	constructor() {
		this.squarePositions = puzzle.matrixSpec;
		const squareIdRoot = "#mSquare-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers) + "-";
		for (let i = 0;  i < this.squarePositions.length; i++) {
			const position = i + 1;
			const squareId = squareIdRoot + String(this.squarePositions[i]);
			const squareElement = document.querySelector(squareId);
			squareElement.textContent = String(position);
		}

		this.squareStyles = [undefined];
		this.squareTiles = [undefined];
		const styleSheet = document.styleSheets[0];
		for (let s = 1; s <= 9; s++) {
			const squareId = squareIdRoot + String(s);
			const squareRule = [...styleSheet.cssRules].find((r) => r.selectorText === squareId);
			this.squareStyles.push(squareRule);
			this.squareTiles.push(null);
			}
			
		this.numTilesInPlace = 0;
		this.temporaryIndex = undefined;
	}
	
	getColourSequence() {
		let colourSequence = [];
		for (let s = 1; s <= 9; s++) {
			if (this.squareTiles[s] == null) colourSequence.push(``); else colourSequence.push(this.squareTiles[s].colour);
		}
		return colourSequence;
	}
	
	reset() {
		for (let s = 1; s <= 9; s++) this.squareTiles[s] = null;
		this.numTilesInPlace = 0;	
	}

	addTile(tile) {
		const nextPosition = this.squarePositions[this.numTilesInPlace];
		this.squareTiles[nextPosition] = tile;
		this.numTilesInPlace++;
	}
	
	removeTile() {
		const tileNum = this.squarePositions[this.numTilesInPlace - 1];
		const tile = this.squareTiles[tileNum];
		this.squareTiles[tileNum] = null;
		this.numTilesInPlace--;
		return tile;
	}
	
	//addTemporaryTile(tile, position) {
	//	this.temporaryPosition = this.squarePositions[position];
	//	this.squareTiles[this.temporaryPosition] = tile;
	//}
	addTemporaryTile(tile, index) {
		this.squareTiles[index] = tile;
		this.temporaryIndex = index;
	}
	
	removeTemporaryTile() {
		this.squareTiles[this.temporaryIndex] = null;
	}
	
	refresh() {
		for (let s = 1; s <= 9; s++) {
			let backgroundColour = matrixBackgroundColour;
			let foregroundColour = matrixForegroundColour;
			if (this.squareTiles[s] != null) {
				backgroundColour = this.squareTiles[s].colour;
				foregroundColour = backgroundColour;
			}
			this.squareStyles[s].style.setProperty("background-color", backgroundColour);
			this.squareStyles[s].style.setProperty("color", foregroundColour);
		}
	}
}
const matrix = new Matrix();


class TickCross {
	constructor() {
		const elementId = "#TickCross-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers);
		this.elementRef = document.querySelector(elementId);
	}
	
	setTick() {
		this.elementRef.innerHTML = "&check;"
	}
	
	setCross() {
		this.elementRef.innerHTML = "&cross;"
	}
	
	show() {
		this.elementRef.style.visibility = `visible`;
	}
	
	hide() {
		this.elementRef.style.visibility = `hidden`;
	}
}
tickCross = new TickCross();


class Control {
	constructor(id, onClick) {
	this.id = id;
	this.onClick = onClick;
	this.button = document.querySelector(id);
	this.isEnabled = true;
	this.disable();
	}
	
	enable() {
		if (!this.isEnabled) {
			this.button.style.opacity = `1.0`;
			this.button.addEventListener("click", this.onClick);
			this.isEnabled = true;
		}
	}
	
	disable() {
		if (this.isEnabled) {
			this.button.style.opacity = `0.5`;
			this.button.removeEventListener("click", this.onClick);
			this.isEnabled = false;
		}
	}
}


let dispenseOnClicks = [undefined,
						function() {solve.dispenseOnClick(1)},
						function() {solve.dispenseOnClick(2)},
						function() {solve.dispenseOnClick(3)},
						function() {solve.dispenseOnClick(4)},
					   ];

function backOnClick() {solve.backOnClick();};
function informationOnClick() {solve.informationOnClick();};
function solutionOnClick() {solve.solutionOnClick();};
function solutionTimerExpired() {solve.solutionTimerExpired();}
function resetOnClick() {solve.resetOnClick();};
function undispenseOnClick() {solve.undispenseOnClick();};
function hintOnClick() {solve.hintOnClick();};
function hintTimerExpired() {solve.hintTimerExpired();}


class Solve {	
	constructor() {
		this.dispensers = [undefined];
		const tileIdRoot = "#dTile-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers) + "-";
		for (let i = 1; i <= puzzle.numDispensers; i++) {
			const tileIdRootPlus = tileIdRoot + String(i);
			this.dispensers[i] = new Dispenser(puzzle.dispenserFullSpec[i], tileIdRootPlus);
			//console.log(this.dispensers[i]);
		}
		
		this.controls = [];
		this.controls["Back"] = new Control("#iBack", backOnClick);
		this.controls["Information"] = new Control("#cInformation-" + String(puzzle.maxDispenserHeight), informationOnClick);
		this.controls["Solution"] = new Control("#cSolution-" + String(puzzle.maxDispenserHeight), solutionOnClick);
		this.controls["Reset"] = new Control("#cReset-" + String(puzzle.maxDispenserHeight), resetOnClick);
		this.controls["Undispense"] = new Control("#cBack-" + String(puzzle.maxDispenserHeight), undispenseOnClick);
		this.controls["Hint"] = new Control("#cHint-" + String(puzzle.maxDispenserHeight), hintOnClick);

		const dispenseIdRoot = "#cDispense-" + String(puzzle.maxDispenserHeight) + String(puzzle.numDispensers) + "-";
		for (let i = 1; i <= puzzle.numDispensers; i++) {
			const dispenseId = dispenseIdRoot + String(i);
			this.controls["Dispense" + String(i)] = new Control(dispenseId, dispenseOnClicks[i]);
		}
		
		this.dispenseSequence = [];
		
		this.solutionTimer = undefined;
		this.solutionNextIndex = undefined;

		for (let i = 1; i <= puzzle.numDispensers; i++) this.dispensers[i].refresh();

		tickCross.hide();
		
		this.hintTemporaryTile = new Tile(null, puzzle.hintColour);
		this.hintTimer = undefined;
		this.hintNumShows = 3;
		this.hintNumShowsRemaining = undefined;
		this.hintShowing = undefined;

		this.enableAllControlsExcept(["Reset", "Undispense"]);
	}
	
	disableAllControls() {
		for (let name in this.controls) {
			this.controls[name].disable();
		}
	}

	disableControls(controls) {
		for (let i in controls) {
			this.controls[controls[i]].disable();
		}
	}
	
	enableAllControls() {
		for (let name in this.controls) {
			this.controls[name].enable();
		}
	}

	enableControls(controls) {
		for (let i in controls) {
			this.controls[controls[i]].enable();
		}
	}
	
	enableAllControlsExcept(exceptions) {
		for (let name in this.controls) {
			if (!exceptions.includes(name)) this.controls[name].enable(); else this.controls[name].disable();
		}
	}
	
	reset() {
		matrix.reset();
		matrix.refresh();
		for (let i = 1; i <= puzzle.numDispensers; i++) {
			const dispenser = this.dispensers[i];
			dispenser.reset();
			dispenser.refresh();
		}
		this.dispenseSequence = [];
	}
	
	informationOnClick() {
		console.log("informationOnClick called");
		const styleSheet = document.styleSheets[0]
		const informationRule = [...styleSheet.cssRules].find((r) => r.selectorText === "#information");
		informationRule.style.setProperty("display", `grid`);
		informationRule.style.setProperty("z-index", `3`);
		const bodyRule = [...styleSheet.cssRules].find((r) => r.selectorText === "body");
		bodyRule.style.setProperty("overflow", `auto`);
	}
	
	backOnClick() {
		console.log("backOnClick called");
		const styleSheet = document.styleSheets[0]
		const informationRule = [...styleSheet.cssRules].find((r) => r.selectorText === "#information");
		informationRule.style.setProperty("z-index", `1`);
		informationRule.style.setProperty("display", `none`);
		const bodyRule = [...styleSheet.cssRules].find((r) => r.selectorText === "body");
		bodyRule.style.setProperty("overflow", `hidden`);
	}

	hintTimerExpired() {
		if (this.hintShowing) {
			matrix.removeTemporaryTile();
			matrix.refresh();
			this.hintShowing = false;
			this.hintNumShowsRemaining--;
			if (this.hintNumShowsRemaining == 0) {
				clearInterval(this.hintTimer);
				this.enableAllControlsExcept(["Reset", "Undispense"]);
			}
		}
		else {
			matrix.addTemporaryTile(this.hintTemporaryTile, puzzle.hintIndex);
			matrix.refresh();
			this.hintShowing = true;			
		}
	}
	
	hintOnClick() {
		this.disableAllControls();
		tickCross.hide();
		if (matrix.numTilesInPlace == 0) {
			matrix.addTemporaryTile(this.hintTemporaryTile, puzzle.hintIndex);
			matrix.refresh();
			this.hintShowing = true;
			this.hintNumShowsRemaining = this.hintNumShows;
		}
		else {
			this.reset();
			this.hintShowing = false;
			this.hintNumShowsRemaining = this.hintNumShows;
		}
		this.hintTimer = setInterval(hintTimerExpired, 1000);
	}

	solutionShowTile(dispenser) {
		const tileTaken = dispenser.takeTile();
		matrix.addTile(tileTaken);
		dispenser.refresh();
		matrix.refresh();
	}

	solutionTimerExpired() {
		const dispenser = this.dispensers[puzzle.solutionDispenseSequence[this.solutionNextIndex]];
		this.solutionShowTile(dispenser);
		this.solutionNextIndex++;
		if (this.solutionNextIndex == 9) {
			clearInterval(this.solutionTimer);
			this.enableControls(["Reset"]);
		}
	}
	
	solutionOnClick() {
		this.disableAllControls();
		tickCross.hide();
		if (matrix.numTilesInPlace == 0) {
			this.solutionShowTile(this.dispensers[puzzle.solutionDispenseSequence[0]]);
			this.solutionNextIndex = 1;
		}
		else {
			this.reset();
			this.solutionNextIndex = 0;
		}
		this.solutionTimer = setInterval(solutionTimerExpired, 1000);
	}
	
	resetOnClick() {
		this.reset();
		this.enableAllControlsExcept(["Reset", "Undispense"]);
		this.updateTickCross();
	}
	
	undispenseOnClick() {
		const tileRemoved = matrix.removeTile();
		const dispenser = tileRemoved.dispenser;
		dispenser.replaceTile();
		const dispenserNum = this.dispenseSequence.pop();
		matrix.refresh();
		dispenser.refresh();
		if (dispenser.numTilesInContainer == 1) this.enableControls(["Dispense" + String(dispenserNum)]);
		if (matrix.numTilesInPlace == 0) this.disableControls(["Reset", "Undispense"]);
		this.updateTickCross();
	}
	
	dispenseOnClick(dispenserNum) {
		const dispenser = this.dispensers[dispenserNum];
		const tileTaken = dispenser.takeTile();
		matrix.addTile(tileTaken);
		this.dispenseSequence.push(dispenserNum);
		dispenser.refresh();
		matrix.refresh();
		if (dispenser.numTilesInContainer == 0) this.disableControls(["Dispense" + String(dispenserNum)]);
		this.enableControls(["Reset", "Undispense"]);
		this.updateTickCross();
	}
	
	updateTickCross() {
		if (matrix.numTilesInPlace == 9) {
			//const thisSolution = this.dispenseSequence.join("");
			//const correctSolution = puzzle.solution.join("");
			const thisSolution = matrix.getColourSequence().join("");
			const correctSolution = puzzle.solutionColourSequence.join("");
			if (thisSolution === correctSolution) tickCross.setTick(); else tickCross.setCross();
			tickCross.show();
		}
		else {
			tickCross.hide();
		}
	}
}
const solve = new Solve();


</script>

